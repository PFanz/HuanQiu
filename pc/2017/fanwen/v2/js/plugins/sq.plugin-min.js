!function(t){t.fn.sDropdown=function(e){var i=t(this),s={evt:"click",headCls:".fn-s-ddHead",bodyCls:".fn-s-ddBody",callback:null},n=t.extend(s,e),o=parseInt(1e9*Math.random()),r=n.headCls,a=n.bodyCls;i.each(function(e,i){var s=t(i),l=s.children(r),c=s.children(a);s.data("fn-s-dropdown")||(s.data("fn-s-dropdown",!0),l.bind(n.evt,o,function(e){var i=e||window.event;fnTool.stopPropagation(i),t(a).not(c).hide(),c.is(":hidden")?c.show():c.hide(),n.callback&&n.callback()}),c.bind(n.evt,function(t){}))}),t(document).bind("click",o,function(t){t||window.event;i.find(a).hide()})}}(jQuery),function(t){t.fn.sTab=function(e){var i={_class:"active",_head:".fn-s-tabHead",_body:".fn-s-tabBody"},s=t.extend(i,e),n=t(this);n.each(function(e,i){var n=t(i),o=n.find(s._head),r=n.find(s._body);o.children().bind("click",function(){var e=t(this);e.siblings().removeClass(s._class).end().addClass(s._class);var i=e.index();r.children().hide().eq(i).show()})})}}(jQuery),function(t){function e(t,e){this.$dom=t,this.options=e,this.cur=e.start,this.$focus=t.children(e.domFocus),this.$focusChild=this.$focus.children(),this.len=this.$focusChild.length,this.$prev=!!e.prev&&t.find(e.prev),this.$next=!!e.next&&t.find(e.next)}e.prototype.setState=function(t){var e=this.$dom.children(".fn-s-focusNum"),i=this.options.numClass;e.children().removeClass(i).eq(t).addClass(i),this.cur=t,this.exec(),this.options.callback&&this.options.callback(this.cur)},e.prototype.clsSetting=function(){var t=this;if(!t.options.circle){var e=t.options.pnDisabledClass;t.$prev.removeClass(e),t.$next.removeClass(e),0===t.cur&&t.$prev.addClass(e),t.cur===t.len-1&&t.$next.addClass(e)}},e.prototype.clearTimer=function(){this.options.autoplay&&clearInterval(this.focusTimer)},e.prototype.show=function(e){var i=this.options.animateTime,s=this.options.direction,n=this;this.clearTimer();var o=t.Deferred(),r=function(t){return n.$focusChild.stop(),n.cur%n.len<e?"h"==s?(n.$focusChild.eq(e).css("left","100%").animate({left:0},i,function(){t.resolve()}),n.$focusChild.eq(n.cur).animate({left:"-100%"},i)):(n.$focusChild.eq(e).css("left","100%").animate({top:0},i,function(){t.resolve()}),n.$focusChild.eq(n.cur).animate({top:"-100%"},i)):n.cur%n.len>e&&("h"==s?(n.$focusChild.eq(e).css("left","100%").animate({left:0},i,function(){t.resolve()}),n.$focusChild.eq(n.cur).animate({left:"100%"},i)):(n.$focusChild.eq(e).css("left","100%").animate({top:0},i,function(){t.resolve()}),n.$focusChild.eq(n.cur).animate({top:"100%"},i))),t.promise()};t.when(r(o)).done(function(){n.setState(e)})},e.prototype.prev=function(){var e=(this.cur+this.len-1)%this.len,i=this.options.animateTime,s=this.options.direction,n=this,o=n.options.pnDisabledClass;if(0===n.cur){if(!n.options.circle)return void n.$prev.addClass(o)}else n.$next.removeClass(o),1!==n.cur||n.options.circle?n.$prev.removeClass(o):n.$prev.addClass(o);var r=t.Deferred();this.clearTimer();var a=function(){return"h"==s?(n.$focusChild.eq(n.cur).animate({left:"100%"},i,function(){r.resolve()}),n.$focusChild.eq(e).css("left","-100%").animate({left:"0%"})):(n.$focusChild.eq(n.cur).animate({top:"100%"},i,function(){r.resolve()}),n.$focusChild.eq(e).css("left","-100%").animate({top:"0%"})),r.promise()};t.when(a()).done(function(){n.setState(e)})},e.prototype.next=function(){var e=(this.cur+1)%this.len,i=this.options.animateTime,s=this.options.direction,n=this,o=n.options.pnDisabledClass;if(n.cur===n.len-1){if(!n.options.circle)return n.$next.addClass(o),!1}else n.$prev.removeClass(o),n.cur!==n.len-2||n.options.circle?n.$next.removeClass(o):n.$next.addClass(o);var r=t.Deferred();this.clearTimer();var a=function(){return"h"==s?(n.$focusChild.eq(n.cur).animate({left:"-100%"},i,function(){r.resolve()}),n.$focusChild.eq(e).css("left","100%").animate({left:"0%"})):(n.$focusChild.eq(n.cur).animate({top:"-100%"},i,function(){r.resolve()}),n.$focusChild.eq(e).css("top","100%").animate({top:"0%"})),r.promise()};t.when(a()).done(function(){n.setState(e)})},e.prototype.init=function(){var e=this,i=this.$dom,s=i.children(e.options.domFocus),n=s.children();if(this.options.num){if(!this.options.numDom){for(var o="<ol class='fn-s-focusNum'>",r=0;r<this.len;r++)o+="<li>"+(r+1)+"</li>";o+="</ol>",i.append(o)}var a=i.children("fn-s-focusNum");a.children().bind(this.options.evt,function(){var i=t(this),s=i.index();e.show(s)})}s.css({position:"relative",width:"100%",overflow:"hidden"}),s.children().css({width:"100%",height:"100%",left:0,top:0,position:"absolute"});var l=n.not(n.eq(e.cur));"h"==e.options.direction?l.css({left:"100%"}):l.css({top:"100%"}),this.clsSetting(),this.$prev&&this.$prev.bind("click",function(){e.prev()}),this.$next&&this.$next.bind("click",function(){e.next()}),this.options.dots&&this.$dom.find(".fn-s-focusNum li").bind("click",function(){e.show(t(this).index())}),this.exec()},e.prototype.exec=function(){var t=this;this.options.autoplay&&(this.focusTimer=setInterval(function(){t.next()},this.options.interval))},t.fn.sFocusImg=function(i){var s={direction:"h",autoplay:!0,circle:!0,interval:5e3,animateTime:200,start:0,domFocus:".fn-s-focusMain",dots:!0,numDom:!1,numClass:"active",evt:"mouseover",prev:!1,next:!1,pnDisabledClass:!1,callback:null},n=t.extend({},s,i),o=new e(t(this),n);o.init()}}(jQuery),function(t){function e(t){this.opts=t,this.$dom=t.$dom,this.hStr=t.hStr,this.width=t.width,this.height=t.height}e.prototype.setTop=function(e){var i=this;if(e instanceof t){var s=e.offset().top-t("body").scrollTop(),n=parseInt(i.opts.top),o=s-n,r=(e.outerHeight()-20)/2;this.$dom.children(".fn-s-mArrow:visible").css("top",o+r+"px")}else this.$dom.children(".fn-s-mArrow:visible").hide()},e.prototype.show=function(e,i){fnTool.stopPropagation(e);var s=this;return this.$dom.show(),this.opts.callback&&this.opts.callback(),s.setTop(i),t(window).unbind("scroll").bind("scroll",function(t){s.setTop(i)}),!1},e.prototype.hide=function(){this.$dom.is(":visible")&&(this.$dom.hide(),this.opts.hideFun&&this.opts.hideFun()),t(window).unbind("scroll")},e.prototype.setting=function(){var e=this;this.$dom=this.$dom?this.$dom:t(this.hStr);this.width;this.$dom.css({position:"fixed",top:this.opts.top,width:this.width}).data("fnModal",!0),this.$dom.find(".fn-s-mdClose").bind("click",function(){e.hide()}),t(document).bind("click",function(){e.hide()}),t(window).resize(function(){var i=t(window).width(),s=e.$dom.outerWidth();s>i?e.$dom.css({width:i,left:0}):e.$dom.css({width:s,left:(i-s)/2})})},e.prototype.init=function(e,i){var s=null,n=0,o=!1;if(i instanceof t)s=fnTool.getDomPos(i),n=i.outerWidth(),o=!0;else{if(!(i instanceof Object))return!1;s=fnTool.getDis(i),n=5}var r=this.$dom,a=t(window).outerWidth(),l=(t(window).outerHeight(),parseInt(r.css("padding-top"))+parseInt(r.css("padding-bottom"))+parseInt(this.opts.top),this.width.indexOf("%")>=0?a*parseFloat(this.width)/100:parseInt(this.width));s.left>s.right&&s.left-50>l?(r.css({left:s.left-l-10}),r.find(".fn-s-maLeft").hide(),r.find(".fn-s-maRight").show()):s.right>s.left&&s.right-50>l?(r.css({left:s.left+n+10}),r.find(".fn-s-maRight").hide(),r.find(".fn-s-maLeft").show()):(r.css({left:(a-l)/2}),r.find(".fn-s-mArrow").hide()),!this.$dom&&this.hStr&&t("body").append(r),this.show(e,i)},t.fnModel=function(i){var s={$dom:null,hStr:"",callback:null,width:"50%",height:null,top:"40px",hideFun:null},n=t.extend({},s,i),o=n.$dom||t(n.hStr);if(!o.data("fnModal")){var r=new e(n);return r.setting(),r}}}(jQuery),function(t){function e(t){return t.outerWidth()+parseInt(t.css("margin-left"))+parseInt(t.css("margin-right"))}function i(t){return t.outerHeight()+parseInt(t.css("margin-top"))+parseInt(t.css("margin-bottom"))}function s(t,e){this.$dom=t,this.opts=e,this.direction=e.direction,this.cur=e.start,this.step=e.step}var n={autoplay:!1,dif:0,interval:2e4,animateTime:30,offset:0,step:1,start:0,circle:!0,$prev:null,$next:null,disabledClass:"",direction:"horizontal",callback:null,showNum:1};s.prototype.animate=function(t,e){var i=this;this.$dom.stop().animate(t,this.opts.animateTime,function(){e&&e(),i.opts.callback&&i.opts.callback(i.cur)})},s.prototype.show=function(t){var s=this.$dom,n=s.children(),o=(n.length,0);if("horizontal"==this.direction){for(var r=0,a=s.outerWidth(),l=s.parent().outerWidth(),c=0;c<t;c++)r+=e(n.eq(c));if(r-=this.opts.offset,o=l-(a-r),o>0)for(var h=0,p=0;p<t&&(h+=e(n.eq(p)),n.eq(p).css({position:"relative",left:"100%"}),!(h>o));p++);s.css({position:"absolute",left:-r+"px"})}else{for(var d=0,f=(s.outerHeight(),s.parent().outerHeight(),0);f<=t;f++)d+=i(n.eq(f));if(d-=this.opts.offset,o=l-(a-r),o>0)for(var u=0,m=0;m<t&&(u+=i(n.eq(m)),n.eq(m).css({position:"relative",top:"100%"}),!(h>o));m++);s.css({position:"absolute",top:-d+"px"})}this.opts.callback&&this.opts.callback(t)},s.prototype.prev=function(t){var s=this.cur,n="horizontal"===this.direction,o=this.opts.circle,r=this.$dom,a=n?r.outerWidth():r.outerHeight(),l=this.$children,c=this.$dom.parent(),h=c.outerWidth(),p=l.length,d=this.step,f=this,u=s-d,m=n?parseInt(r.css("left")):parseInt(r.css("top"));this.cur=u<0?p+u:u;var v=0,$=null,g=0;if(u<0)if(l.attr("style",""),o){for(v=this.cur;v<p;v++)$=l.eq(v),n?$.css({position:"relative",left:-a+"px"}):$.css({position:"relative",top:-a+"px"}),g+=n?e($):i($);for(v=0;v<s;v++)$=l.eq(v),g+=n?e($):i($)}else this.cur=0,f.clearTimer();else for(v=this.cur;v<s;v++)$=l.eq(v),m>0?n?$.css({position:"relative",left:-a+"px"}):$.css({position:"relative",top:-a+"px"}):$.attr("style",""),g+=n?e($):i($);var b=m+g>=a?m+g-a:m+g;if(b>h){l.attr("style",""),b=0;for(var x=0;x<this.cur;x++)b-=n?e(l.eq(x)):i(l.eq(x));b+=this.opts.offset}n?f.animate({left:b+"px"},t):f.animate({top:b+"px"},t)},s.prototype.next=function(t){var s=this.cur,n="horizontal"===this.direction,o=this.opts.circle,r=this.$dom,a=n?r.outerWidth():r.outerHeight(),l=this.$children,c=this.$dom.parent(),h=n?c.outerWidth():c.outerHeight(),p=l.length,d=this.step,f=this,u=0,m=null,v=0;this.cur=s+d>p-1?Math.abs(p-s-d):s+d;for(var $=0,g=p-1;g>=0&&(m=l.eq(g),$+=n?e(m):i(m),!($>=h));g--);if(s+d>=g)if(l.attr("style",""),o)if(this.cur<s);else for(u=0;u<s+d-g;u++)m=l.eq(u),n?m.css({position:"relative",left:a+"px"}):m.css({position:"relative",top:a+"px"});else this.cur=g,f.clearTimer();else l.attr("style","");for(u=0;u<this.cur;u++)m=l.eq(u),v+=n?e(m):i(m);n?f.animate({left:-v+this.opts.offset+"px"},t):f.animate({top:-v+this.opts.offset+"px"},t)},s.prototype.clearTimer=function(){this.$dom.stop(),clearInterval(this.gunTimer)},s.prototype.destroy=function(){this.clearTimer(),this.$dom.data("gun",!1),this.$dom.css(this.$dom.data("style"))},s.prototype.timer=function(){var t=this;t.opts.autoplay&&(this.gunTimer=setInterval(function(){t.next()},this.opts.interval))},s.prototype.init=function(){this.$dom.css({overflow:"visible",position:"absolute"}).data("gun",!0);var e=this.$dom.children(),i=this;if(this.$children=e,this.total=e.length,"horizontal"===this.opts.direction?this.$dom.data("style",{left:this.$dom.css("left")}):this.$dom.data("style",{top:this.$dom.css("top")}),this.cur>=this.total&&(this.cur=0),this.step>=this.total&&(this.step=1),this.cur>0&&this.show(this.cur),"horizontal"===this.direction){var s=0;e.each(function(){s+=t(this).outerWidth()+parseInt(t(this).css("margin-left"))+parseInt(t(this).css("margin-right"))+i.opts.dif}),s+=parseInt(i.$dom.css("padding-left"))+parseInt(i.$dom.css("padding-right")),this.$dom.css({width:s+"px"})}else{var n=0;e.each(function(){n+=t(this).outerWidth()+parseInt(t(this).css("margin-left"))+parseInt(t(this).css("margin-right"))}),n+=parseInt(i.$dom.css("padding-top"))+parseInt(i.$dom.css("padding-bottom")),this.$dom.css({height:n+"px"})}this.opts.$next&&this.opts.$next.bind("click",function(){i.clearTimer(),i.next(function(){i.timer()})}),this.opts.$prev&&this.opts.$prev.bind("click",function(){i.clearTimer(),i.prev(function(){i.timer()})}),this.timer()},t.fn.sGun=function(e){var i=t(this),o=t.extend({},n,e);if(!i.data("gun")){var r=new s(i,o);return r.init(),r}}}(jQuery),function(t){t.fn.sTooltip=function(e){function i(t,e){this.$dom=t,this.opts=e,this.timer=null}var s={direction:"top",isTitle:!0,title:"",content:"",theme:"black",autoClose:!0,duration:3e3,show:!0},n=t.extend(s,e);i.prototype.init=function(){var e=this,i=e.$dom,s=e.opts,n=s.theme,o=s.direction,r="";if(clearTimeout(this.timeout),!i.data("popover")){i.data("popover",!0);var a="ss-popover-"+n+" ";switch(o){case"top":a+="ss-popover-top";break;case"bottom":a+="ss-popover-bottom";break;case"left":a+="ss-popover-left";break;case"right":a+="ss-popover-right"}r+="<div class='ss-popover "+a+"'>",s.isTitle&&(r+="<h3 class='ss-popover-head'><span class='ss-popover-title'>",r+=s.title?s.title:i.attr("title")?i.attr("title"):"提醒",r+="</span><button class='ss-close'>&otimes;</button></h3>"),r+="<div class='ss-popover-body'>"+s.content+"</div>",t("body").find(".ss-popover").remove().end().append(r);var l=fnTool.getDomPos(i),c=t(".ss-popover").eq(0),h=c.outerHeight(),p=c.outerWidth(),d=i.outerHeight(),f=i.outerWidth();switch(o){case"top":c.css({left:l.left-(p-f)/2+"px",top:l.top-(h+9)+"px"});break;case"bottom":c.css({left:l.left-(p-f)/2+"px",top:l.top+9+d+"px"});break;case"left":c.css({left:l.left-(p+9)+"px",top:l.top-(h-d)/2+"px"});break;case"right":c.css({left:l.left+f+9+"px",top:l.top-(h-d)/2+"px"})}c.delegate(".ss-close","click",function(){i.data("popover",!1),c.remove()}),s.autoClose&&(this.timer=setTimeout(function(){c.animate({opacity:0},1e3,function(){i.data("popover",!1),c.remove()})},s.duration))}};var o=t(this),r=new i(o,n);r.init()}}(jQuery),function($){$.extend({multiMode:function(options){function MultiMode(){this.options=options,this.$con=this.options.$con}var _default={template:"",removeClass:"",data:[],afterInit:null};return options=$.extend({},_default,options),MultiMode.prototype.delQuot=function(t){if(t=t.replace(/[\t|\r|\n]/g,""),"string"==typeof t){for(var e=/'(.*?)'|"(.*?)"/g;match=e.exec(t);)t=0==match[0].indexOf('"')?t.replace(match[0],"&quot;"+(match[1]?match[1]:match[2])+"&quot;"):t.replace(match[0],"&apos;"+(match[1]?match[1]:match[2])+"&apos;");t=t.replace(/"|'/g," ")}return t},MultiMode.prototype.ssuper=function(t,e){for(var i=t.split("|"),s=i.length,n=null,o=0;o<s;o++)if(n=$.trim(i[o]),e[n])return this.delQuot(e[n]);return""},MultiMode.prototype.innerListOp=function(data,template){function ifCase(t,e){var i=/\((.+)\)/g,s=null;if(s=i.exec(t))for(var n=s[1],o=null,r=/\$\$index|\s*[a-zA-Z_]\w*\s*/g;o=r.exec(n);){var a=$.trim(o[0]),l=t.indexOf(a),c=t.substring(l-1,l);/^indexOf|substring|substr$/.test(a)||'"'===c||"'"===c||(a.indexOf("|")>=0?t=t.replace(a,self.ssuper(a,data)):"true"!=a&&"false"!=a&&(t=void 0!==data[a]?"number"==typeof data[a]?t.replace(a,data[a]):t.replace(a,'"'+data[a]+'"'):t=t.replace(a,void 0)))}else console&&console.log("判断条件必须包含在(英文括号)里面");return e||(t=t.replace("elseif","}else if")),t}var code="var r = []; \n",html="",reg=/\{([^\}]+)?\}/g,match=null,cursor=0,i=0,self=this;template=template.replace(/\"/g,"'");var innerMatch=null;if(innerMatch=/\{#list(\s*(([a-zA-Z_]\w*\s*\|\s*)*([a-zA-Z_]\w*)))?\}/.exec(template)){var innerEnd=template.lastIndexOf("{#/list}"),innerTemp=template.substring(innerMatch.index,innerEnd+8),filed=$.trim(innerMatch[1]);html=this.splitTemplate(innerTemp,data,filed),template=template.substring(0,innerMatch.index)+html.replace(/[\n|\r|\t]/g,"")+template.substring(innerEnd+8)}for(;match=reg.exec(template);){var m1=match[1],regOther=/^#[if|else|\/if]+/,regFun=/fun_([a-zA-Z]\w*)\(((((\w*|(([a-zA-Z_]\w*\s*\|\s*)*([a-zA-Z_]\w*)))\s*,\s*)+)?(\w*|(([a-zA-Z_]\w*\s*\|\s*)*([a-zA-Z_]\w*))))\)/,match0=match[0],match1=m1.substring(1);code+='r.push("'+template.substring(cursor,match.index)+'");\n';var mJudge=m1.match(regOther);if(mJudge){var switchReg=$.trim(mJudge[0]).substring(1);switch(switchReg){case"if":code+=ifCase(match1,!0)+"{\n";break;case"/if":code+="\n}";break;case"else":code+="\n}"+match1+"{\n";break;case"elseif":code+=ifCase(match1,!1),code+="{\n"}}else if("this"==m1)code+=data instanceof Object&&data.$$change?'r.push("'+data.$$value+'");\n':'r.push("'+data+'");\n';else if(regFun.test(m1)){var matchFun=regFun.exec(m1),funName=matchFun[1]+"(",funArgs=matchFun[2],funArgsArr=funArgs.split(","),funAl=funArgsArr.length;if(funAl){for(var fnAi=null,regNum=/\d+/g,w=0;w<funAl;w++)fnAi=$.trim(funArgsArr[w]),funName+=regNum.test(fnAi)?parseInt(fnAi):fnAi.indexOf("|")>=0?"'"+self.ssuper(fnAi,data)+"'":void 0!==data[fnAi]?"'"+self.delQuot(data[fnAi])+"'":"'"+fnAi+"'",funName+=",";funName=funName.substring(0,funName.length-1)+")",code+='r.push("'+this.delQuot(eval(funName))+'");'}}else code+='r.push("'+self.handleArgs(m1,data)+'");';cursor=match.index+match0.length}code+='r.push("'+template.substring(cursor)+'");\n',code+='return r.join("");\n';var fun=new Function(code);return html=fun()},MultiMode.prototype.handleArgs=function(t,e){var i=t,s=this,n=/\s*(\$\$index|\w+\s*)([\/\+\-\*\%])(\s*\w+)/,o=null,r=/(.+)\?(\s*\w+\s*):(\s*\w+\s*)/,a=null,l=/(\s*\$\$index|\w+\s*)?(\+\+|--)(\s*\$\$index|\w+\s*)?/,c=null,h=/([a-zA-Z_]\w*)\.(substr|substring)\((\s*\d+\s*)(,\s*\d+\s*)\)/,p=null;if(o=n.exec(t)){var d=$.trim(o[1]),f=o[2],u=o[3];if(d=s.handleDtVal(d,e),u=s.handleDtVal(u,e),"+"!=f)if(parseInt(d)&&parseInt(u))switch(d=parseInt(d),u=parseInt(u),f){case"-":i=d-u;break;case"*":i=d*u;break;case"/":i=d/u;break;case"%":i=d%u}else i="error",console&&console.log("运算符两边必须都是数字");else i="number"==typeof parseInt(d)&&"number"==typeof parseInt(u)?parseInt(d)+parseInt(u):d&&u?d+u:NaN}else if(a=r.exec(t)){var m=$.trim(a[1]),v=s.handleDtVal($.trim(a[2]),e),g=s.handleDtVal($.trim(a[3]),e),b=/\s*(\$\$index|\w+\s*)(>=|>|<=|<|===|==|\.indexOf\((\s*(\w|[\u4E00-\u9FA5\uf900-\ufa2d])+\s*)\))?(\s*\w+\s*)?/,x=b.exec(m),w=x[1],y=s.handleDtVal(w,e),C=x[2];if(C){var k="";if(x[3])switch(k=x[3]?x[3]:x[4]?x[4]:x[5],x[2]){case">=":i=y>=k?v:g;break;case">":i=y>k?v:g;break;case"<=":i=y<=k?v:g;break;case"<":i=y<k?v:g;break;case"===":i=y===k?v:g;break;case"==":i=y==k?v:g;break;default:i=(y&&y.indexOf(k))>=0?v:g}}else i=y}else if(c=l.exec(t)){var I=c[2],T=$.trim(c[1]),A=$.trim(c[3]),M=T?s.handleDtVal(T,e):s.handleDtVal(A,e);if("number"==typeof M)if(T)switch(I){case"++":i=M++;break;case"--":i=M--}else switch(I){case"++":i=++pVal;break;case"--":i=--M}else i=M+I}else if(p=h.exec(t)){var q=p[1],O=s.handleDtVal(q,e),f=p[2],D=parseInt($.trim(p[3])),H=p[4]?parseInt($.trim(p[4]).substring(1)):void 0;if(O)switch(f){case"substr":i=H?O.substr(D,H):O.substr(D);break;case"substring":i=H?O.substring(D,H):O.substring(D)}else i=O}else i=t.indexOf("|")>=0?s.ssuper(t,e):s.handleDtVal(t,e);return i},MultiMode.prototype.handleDtVal=function(t,e){var i=/^\d+$/;if(i.test(t))return t;var s=e[t];if(void 0!=s){if("string"==typeof s)s=s.replace(/<|>/g," "),s=this.delQuot(s).replace(/[\t|\n|\r]/g,"").replace(/\\/g,"");else if($.isArray(s))s=s.join(" ");else if(s instanceof Object){var n="";for(var o in s)n+="<div>key: "+o+", val: "+s[o]+"</div>";s=n}else console;return s}},MultiMode.prototype.checkHorizontalList=function(t,e){for(var i,s="",n=/(\{#list(\s+\w*)\}|\{#list\})[^#]+\{\#\/list}/g,o=0;i=n.exec(t);){var r=i.index;s+=t.substring(o,r),o=r+i[0].length,s+=this.innerListOp(e,i[0])}return s},MultiMode.prototype.concatHtml=function(t,e,i){var s="",n="";if(i&&(i=$.trim(i),$.isArray(e)||(e=i.indexOf("|")>=0?this.ssuper(i,e):e[i])),e instanceof Array)for(var o=0;o<e.length;o++){var r=e[o];r instanceof Object?r.$$index=o:r={$$change:!0,$$value:r,$$index:o},n=this.innerListOp(r,t),s+=n+"\n"}else n=this.innerListOp(e,t),s+=n+"\n";return s},MultiMode.prototype.splitTemplate=function(t,e,i){var s=/\{#list(\s*(([a-zA-Z_]\w*\|)*([a-zA-Z_]\w*)))?\}/,n=null,o="",r=this;if(n=s.exec(t)){var a=t.lastIndexOf("{#/list}"),l=n?t.substring(n.index+n[0].length,a):t;o+=r.innerListOp(e,t.substring(0,n.index));var c=null;if(c=s.exec(l)){var h=l.indexOf("{#/list}");c.index>h?(l=n[0]+l+"{#/list}",o+=r.checkHorizontalList(l,e,c,h)):(i=c[1]?c[1]:i,o+=r.concatHtml(l,e,i))}else{var p=$.trim(n[1]);i?e=i.indexOf("|")>=0?this.ssuper(i,e):e[i]:p&&(e=p.indexOf("|")>=0?this.ssuper(p,e):$.trim(e[p])),o+=r.concatHtml(l,e)}o+=r.innerListOp(e,t.substring(a+8))}else o=r.innerListOp(e,t);return o},MultiMode.prototype.delSpace=function(t){for(var e in t)"string"==typeof t[e]?t[e]=t[e].replace(/[\t|\n|\r]/g,""):"object"==typeof t[e]&&this.delSpace(t[e]);return t},MultiMode.prototype.buildHtml=function(t){var e=t?$.isArray(t)?t:t.data:this.options.data,i="";if("string"==typeof e&&(e=JSON.parse(e)),e instanceof Object)if(e instanceof Array&&!e.length)i="";else{e=this.delSpace(e);var s=t&&t.temp?t.temp:this.options.template;i=this.splitTemplate(s,e)}else console&&(console.error("传入的数据不符合要求"),i="");return i},MultiMode.prototype.init=function(){this.options.beforeInit&&this.options.beforeInit(),this.$con.addClass(this.options._class).removeClass(this.options.removeClass).html(this.buildHtml()),this.options.afterInit&&this.options.afterInit()},MultiMode.prototype.append=function(t){this.$con.append(this.buildHtml({data:t})),this.options.afterInit&&this.options.afterInit()},MultiMode.prototype.prepend=function(t,e){this.$con.prepend(this.buildHtml({data:t,temp:e}))},new MultiMode}})}(jQuery),function(t){function e(t,e){this.$con=t,this.$btn=e.$btn,this.options=e}var i={$btn:null,$con:null,height:100,time:100};e.prototype.init=function(){var t=this.$con,e=this.$btn,i=this.options;t&&e&&!t.data("scroll")&&(t.data("scroll",!0),t.unbind("scroll").bind("scroll",function(){t.scrollTop()>=i.height?e.show():e.hide()}),e.click(function(){t.animate({scrollTop:"0px"},i.time),e.hide()}))},e.prototype.hide=function(){this.$con.scrollTop(0),this.$btn.hide()},t.fn.backTop=function(s){s=t.extend({},i,s);var n=t(this),o=new e(n,s);return o.init(),o}}(jQuery);