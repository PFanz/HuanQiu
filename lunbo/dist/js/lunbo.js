"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),Lunbo=function(){function t(e){_classCallCheck(this,t);var n={autoplay:!0,pause:!0,contin:1,delay:3,hasDot:!1,hasArrow:!1};e=_extends({},n,e);var a=e,i=a.contentElem,s=a.autoplay,l=a.pause,o=a.contin,r=a.delay,c=a.hasDot,h=a.hasArrow;void 0!==i.length?this.contentElem=i[0]:this.contentElem=i,this.autoplay=s,this.pause=l,this.contin=o,this.delay=r,this.hasDot=c,this.hasArrow=h,this.imgListElem=i.querySelector("ul"),this.len=i.querySelectorAll("img").length,this.imgWidth=i.clientWidth,this._n=0,this.movingFlag=null}return _createClass(t,[{key:"turn",value:function(t){var e=this,n=this._n+t;n<0?n+=this.len:n>=this.len&&(n-=this.len),this.movingFlag&&(clearInterval(this.movingFlag),this.movingFlag=null);var a=-n*this.imgWidth,i=parseFloat(this.imgListElem.style.left),s=(a-i)/(1e3*this.contin)*13;if(this.movingFlag=setInterval(function(){var t=parseFloat(e.imgListElem.style.left)+s;s<0?t<=a&&(t=a,clearInterval(e.movingFlag),e.movingFlag=null):s>0&&t>=a&&(t=a,clearInterval(e.movingFlag),e.movingFlag=null),e.imgListElem.style.left=t+"px"},13),this._n=n,this.hasDot){var l=this.contentElem.parentNode.querySelectorAll(".dot");l.forEach(function(t){t.classList.remove("active")}),l[n].classList.add("active")}}},{key:"createDots",value:function(){var t=document.createElement("div");t.setAttribute("class","focus-dots-content");for(var e='<a href="javascript:void(0);" class="dot active"></a>',n=1;n<this.len;n++)e+='<a href="javascript:void(0);" class="dot"></a>';t.innerHTML=e,this.contentElem.parentNode.appendChild(t)}},{key:"createArrows",value:function(){var t=document.createElement("div");t.setAttribute("class","focus-arrows-content");var e='<a href="javascript:void(0);" class="focus-arrow-pre"></a><a href="javascript:void(0);" class="focus-arrow-next"></a>';t.innerHTML=e,this.contentElem.parentNode.appendChild(t)}},{key:"addEvent",value:function(){var t=this;if(this.hasArrow){var e=this.contentElem.parentNode.querySelector(".focus-arrows-content");e.onclick=function(e){var n=e.target||e.srcElement;n.className.indexOf("focus-arrow-pre")!==-1&&t.turn(-1),n.className.indexOf("focus-arrow-next")!==-1&&t.turn(1)}}this.hasDot&&!function(){var e=t.contentElem.parentNode.querySelector(".focus-dots-content"),n=e.querySelectorAll(".dot");e.onclick=function(e){var a=e.target||e.srcElement;if(a.className.indexOf("dot")!==-1){if(a.className.indexOf("active")!==-1)return;var i=0;n.forEach(function(t,e){t===a&&(i=e)}),t.turn(i-t._n)}}}()}},{key:"init",value:function(){var t=this;this.contentElem.style.position="relative",this.contentElem.style.fontSize=0,this.contentElem.style.overflow="hidden",this.imgListElem.style.padding=0,this.imgListElem.style.width=this.len*this.imgWidth+"px",this.imgListElem.style.position="absolute",this.imgListElem.style.left=0,this.hasArrow&&this.createArrows(),this.hasDot&&this.createDots(),this.addEvent();var e=this.contentElem.querySelectorAll("li"),n=this.contentElem.clientHeight;e.forEach(function(e){e.style.listStyle="none",e.style.display="inline-block",e.style.width=t.imgWidth+"px",e.style.height=n+"px",e.querySelector("img").style.width="100%",e.querySelector("img").style.height="100%"}),this.autoplay&&(this.autoplayFlag=setInterval(function(){t.turn(1)},1e3*this.delay),this.pause&&(document.addEventListener?(this.contentElem.addEventListener("mouseenter",function(){clearInterval(t.autoplayFlag)}),this.contentElem.addEventListener("mouseleave",function(){t.autoplayFlag=setInterval(function(){t.turn(1)},1e3*t.delay)})):document.attachEvent&&(this.contentElem.attachEvent("onmouseenter",function(){clearInterval(t.autoplayFlag)}),this.contentElem.attachEvent("onmouseleave",function(){t.autoplayFlag=setInterval(function(){t.turn(1)},1e3*t.delay)}))))}}]),t}();